source("~/.active-rstudio-document", echo = TRUE)
source("~/.active-rstudio-document", echo = TRUE)
source("~/.active-rstudio-document", echo = TRUE)
source("~/.active-rstudio-document", echo = TRUE)
source("~/.active-rstudio-document", echo = TRUE)
source("~/.active-rstudio-document", echo = TRUE)
source("~/.active-rstudio-document", echo = TRUE)
source("~/.active-rstudio-document", echo = TRUE)
source("~/.active-rstudio-document", echo = TRUE)
source("~/.active-rstudio-document", echo = TRUE)
source("~/.active-rstudio-document", echo = TRUE)
source("~/.active-rstudio-document", echo = TRUE)
source("~/.active-rstudio-document", echo = TRUE)
source("~/.active-rstudio-document", echo = TRUE)
source("~/.active-rstudio-document", echo = TRUE)
source("~/.active-rstudio-document", echo = TRUE)
source("~/problem set question 2.R", echo = TRUE)
source("~/.active-rstudio-document", echo = TRUE)
source("~/.active-rstudio-document", echo = TRUE)
source("~/problem set question 1.R", echo = TRUE)
source("~/problem set question 4.R", echo = TRUE)
source("~/.active-rstudio-document", echo = TRUE)
source("~/.active-rstudio-document", echo = TRUE)
source("~/.active-rstudio-document", echo = TRUE)
source("~/.active-rstudio-document", echo = TRUE)
source("~/.active-rstudio-document", echo = TRUE)
source("~/.active-rstudio-document", echo = TRUE)
source("~/.active-rstudio-document", echo = TRUE)
source("~/.active-rstudio-document", echo = TRUE)
source("~/.active-rstudio-document", echo = TRUE)
source("~/.active-rstudio-document", echo = TRUE)
source("~/.active-rstudio-document", echo = TRUE)
c
source("~/.active-rstudio-document", echo = TRUE)
df_cars <- mtcars
df_cars$carname <- rownames(mtcars)
df_labels <- data.frame(
carname = rownames(mtcars),
cyl_group = ifelse(mtcars$cyl >= 6, "high cylinders", "low cylinders"),
stringsAsFactors = FALSE
)
merged <- merge(df_cars, df_labels, by.x = "row.names", by.y = "carname")
merged$cyl_group <- factor(merged$cyl_group)
plot(merged$hp, merged$mpg,
col = merged$cyl_group,
pch = 19,
xlab = "Horsepower",
ylab = "Miles per gallon")
legend("topright", legend = unique(merged$cyl_group), pch = 19,
col = seq_along(unique(merged$cyl_group)))
source("~/problem set question 1.R", echo = TRUE)
df_cars <- mtcars
df_cars$carname <- rownames(mtcars)
df_labels <- data.frame(
carname = rownames(mtcars),
cyl_group = ifelse(mtcars$cyl >= 6, "high cylinders", "low cylinders"),
stringsAsFactors = FALSE
)
merged <- merge(df_cars, df_labels, by.x = "row.names", by.y = "carname")
merged$cyl_group <- factor(merged$cyl_group)
plot(merged$hp, merged$mpg,
col = merged$cyl_group,
pch = 19,
xlab = "Horsepower",
ylab = "Miles per gallon")
legend("topright", legend = unique(merged$cyl_group), pch = 19,
col = seq_along(unique(merged$cyl_group)))
df_cars <- mtcars
df_cars$carname <- rownames(mtcars)
df_labels <- data.frame(
carname = rownames(mtcars),
cyl_group = ifelse(mtcars$cyl >= 6, "high cylinders", "low cylinders"),
stringsAsFactors = FALSE
)
merged <- merge(df_cars, df_labels, by.x = "row.names", by.y = "carname")
merged$cyl_group <- factor(merged$cyl_group)
plot(merged$hp, merged$mpg,
col = merged$cyl_group,
pch = 19,
xlab = "Horsepower",
ylab = "Miles per gallon")
legend("topright", legend = unique(merged$cyl_group), pch = 19,
col = seq_along(unique(merged$cyl_group)))
set.seed(42)
df_wide <- data.frame(
id = 1:5,
meas_2020 = rnorm(5, 10, 1),
meas_2021 = rnorm(5, 11, 1),
meas_2022 = rnorm(5, 12, 1)
)
## reshape from wide to long
df_long <- reshape(
df_wide,
varying = c("meas_2020", "meas_2021", "meas_2022"),
v.names = "value",
timevar = "year",
times = c(2020, 2021, 2022),
idvar = "id",
direction = "long"
)
row.names(df_long) <- NULL
df_long
## mean value per year
aggregate(value ~ year, data = df_long, FUN = mean)
##set.seed(123) guarentees that the random number generation in R
## is repeatable and predictable for debugging,research, etc.###
set.seed(123)
x <- rnorm(20, mean = 5, sd = 2)
x[sample(1:20, 4)] <- NA
##mean before replacing NA's
mean(x)
##replace NA's in x with non-missing values.
x[is.na(x)] <- median(x, na.rm = TRUE)
##mean after replacement
mean(x)
## Define the function
my_summary <- function(df, cols) {
# Check that df is a data frame
if (!is.data.frame(df)) {
stop("df must be a data frame")
}
# Check that all requested columns exist
if (!all(cols %in% names(df))) {
stop("Some columns are not present in the data frame")
}
# Check that all specified columns are numeric
non_numeric <- cols[!sapply(cols, function(x) is.numeric(df[[x]]))]
if (length(non_numeric) > 0) {
stop(paste("Non-numeric columns:", paste(non_numeric, collapse = ", ")))
}
# Create summary statistics
summary_df <- data.frame(
n = sapply(cols, function(x) sum(!is.na(df[[x]]))),
mean = sapply(cols, function(x) mean(df[[x]], na.rm = TRUE)),
sd = sapply(cols, function(x) sd(df[[x]], na.rm = TRUE)),
row.names = cols
)
return(summary_df)
}
## Demonstration using mtcars
my_summary(mtcars, c("mpg", "hp", "wt"))
vars <- c("  temp.C ", "RH(%)", "soil-moisture", "2nd_reading", "sensor.ID")
vars_clean <- vars
# trim spaces
vars_clean <- trimws(vars_clean)
# lowercase
vars_clean <- tolower(vars_clean)
# replace specific punctuation with _
vars_clean <- gsub("[,().%]", "_", vars_clean)
# replace any remaining non-alphanumeric chars with _
vars_clean <- gsub("[^a-z0-9_]", "_", vars_clean)
# collapse multiple underscores
vars_clean <- gsub("_+", "_", vars_clean)
# prefix starting digits with x_
vars_clean <- gsub("^([0-9])", "x_\\1", vars_clean)
vars_clean
hu
## Read dataset
eye_data <- read.csv("eye_strain_data.csv")
## Inspect structure
head(eye_data)
str(eye_data)
## Convert categorical variables to factors
eye_data$device <- factor(eye_data$device)
eye_data$session <- factor(eye_data$session)
eye_data$gamer_id <- factor(eye_data$gamer_id)
## Fit repeated-measures ANOVA
anova_model <- aov(
eye_strain_score ~ device * session + Error(gamer_id/session),
data = eye_data
)
## Display ANOVA summary
summary(anova_model)
## Create summary table
summary_table <- aggregate(
eye_strain_score ~ device + session,
data = eye_data,
FUN = function(x) c(mean = mean(x), sd = sd(x))
)
## Expand results
summary_table <- do.call(data.frame, summary_table)
## Rename columns
colnames(summary_table) <- c("Device", "Session", "Mean", "SD")
## Print
summary_table
library(emmeans)
install.packages("emmeans")
library(emmeans)
## Read dataset
eye_data <- read.csv("eye_strain_data.csv")
## Inspect structure
head(eye_data)
str(eye_data)
## Convert categorical variables to factors
eye_data$device <- factor(eye_data$device)
eye_data$session <- factor(eye_data$session)
eye_data$gamer_id <- factor(eye_data$gamer_id)
## Fit repeated-measures ANOVA
anova_model <- aov(
eye_strain_score ~ device * session + Error(gamer_id/session),
data = eye_data
)
## Display ANOVA summary
summary(anova_model)
## Create summary table
summary_table <- aggregate(
eye_strain_score ~ device + session,
data = eye_data,
FUN = function(x) c(mean = mean(x), sd = sd(x))
)
model <- aov(eye_strain_score ~ device * session, data = eye_data)
emmeans(model, pairwise ~ device | session, adjust = "bonferroni")
emmeans(model, pairwise ~ session | device, adjust = "bonferroni")
## Expand results
summary_table <- do.call(data.frame, summary_table)
## Rename columns
colnames(summary_table) <- c("Device", "Session", "Mean", "SD")
## Print
summary_table
install.packages("emmeans")
library(emmeans)
## Read dataset
eye_data <- read.csv("eye_strain_data.csv")
## Inspect structure
head(eye_data)
str(eye_data)
## Convert categorical variables to factors
eye_data$device <- factor(eye_data$device)
eye_data$session <- factor(eye_data$session)
eye_data$gamer_id <- factor(eye_data$gamer_id)
## Fit repeated-measures ANOVA
anova_model <- aov(
eye_strain_score ~ device * session + Error(gamer_id/session),
data = eye_data
)
## Display ANOVA summary
summary(anova_model)
## Create summary table
summary_table <- aggregate(
eye_strain_score ~ device + session,
data = eye_data,
FUN = function(x) c(mean = mean(x), sd = sd(x))
)
## Expand results
summary_table <- do.call(data.frame, summary_table)
## Rename columns
colnames(summary_table) <- c("Device", "Session", "Mean", "SD")
## Print
summary_table
model <- aov(eye_strain_score ~ device * session, data = eye_data)
emmeans(model, pairwise ~ device | session, adjust = "bonferroni")
emmeans(model, pairwise ~ session | device, adjust = "bonferroni")
install.packages("emmeans")
install.packages("emmeans")
library(emmeans)
## Read dataset
eye_data <- read.csv("eye_strain_data.csv")
## Inspect structure
head(eye_data)
str(eye_data)
## Convert categorical variables to factors
eye_data$device <- factor(eye_data$device)
eye_data$session <- factor(eye_data$session)
eye_data$gamer_id <- factor(eye_data$gamer_id)
## Fit repeated-measures ANOVA
anova_model <- aov(
eye_strain_score ~ device * session + Error(gamer_id/session),
data = eye_data
)
## Display ANOVA summary
summary(anova_model)
## Create summary table
summary_table <- aggregate(
eye_strain_score ~ device + session,
data = eye_data,
FUN = function(x) c(mean = mean(x), sd = sd(x))
)
## Expand results
summary_table <- do.call(data.frame, summary_table)
## Rename columns
colnames(summary_table) <- c("Device", "Session", "Mean", "SD")
## Print
summary_table
##post-hoc
model <- aov(eye_strain_score ~ device * session, data = eye_data)
emmeans(model, pairwise ~ device | session, adjust = "bonferroni")
emmeans(model, pairwise ~ session | device, adjust = "bonferroni")
##extract emmeans table
emmeans_table <- as.data.frame(emm_device_session&emmeans)
install.packages("emmeans")
library(emmeans)
## Read dataset
eye_data <- read.csv("eye_strain_data.csv")
## Inspect structure
head(eye_data)
str(eye_data)
## Convert categorical variables to factors
eye_data$device <- factor(eye_data$device)
eye_data$session <- factor(eye_data$session)
eye_data$gamer_id <- factor(eye_data$gamer_id)
## Fit repeated-measures ANOVA
anova_model <- aov(
eye_strain_score ~ device * session + Error(gamer_id/session),
data = eye_data
)
## Display ANOVA summary
summary(anova_model)
## Create summary table
summary_table <- aggregate(
eye_strain_score ~ device + session,
data = eye_data,
FUN = function(x) c(mean = mean(x), sd = sd(x))
)
## Expand results
summary_table <- do.call(data.frame, summary_table)
## Rename columns
colnames(summary_table) <- c("Device", "Session", "Mean", "SD")
## Print
summary_table
##post-hoc
model <- aov(eye_strain_score ~ device * session, data = eye_data)
emm_device_session <- emmeans(model, pairwise ~ device | session, adjust = "bonferroni")
# Extract only the emmeans (ignores contrasts for now)
emmeans_table <- as.data.frame(emm_device_session$emmeans)
# Round numeric columns for reporting
emmeans_table$emmean <- round(emmeans_table$emmean, 1)
emmeans_table$SE <- round(emmeans_table$SE, 2)
emmeans_table$lower.CL <- round(emmeans_table$lower.CL, 2)
emmeans_table$upper.CL <- round(emmeans_table$upper.CL, 2)
# Rename columns to match your example
colnames(emmeans_table) <- c("Device", "Session", "Mean", "SE", "df", "LowerCI", "UpperCI")
# Keep only the columns you want for your table (Device, Session, Mean, SE)
emmeans_table <- emmeans_table[, c("Device", "Session", "Mean", "SE")]
# Print
print(emmeans_table)
